(self.webpackChunkfxhash_boilerplate_webpack=self.webpackChunkfxhash_boilerplate_webpack||[]).push([[478],{8478:(e,t,n)=>{"use strict";n.r(t);var r=n(4515),o=n.n(r);o().create("music.mp3"),o().create({id:"music",url:["music.mp3"],loop:!0}).play()},4515:function(e){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}function t(e){var t=e.createBuffer(1,1,e.sampleRate),n=e.createBufferSource();n.buffer=t,n.connect(e.destination),n.start(0),n.stop(0),n.disconnect()}function n(){function e(){}function t(){return{value:1,defaultValue:1,linearRampToValueAtTime:e,setValueAtTime:e,exponentialRampToValueAtTime:e,setTargetAtTime:e,setValueCurveAtTime:e,cancelScheduledValues:e}}function n(){return{connect:e,disconnect:e,frequencyBinCount:0,smoothingTimeConstant:0,fftSize:0,minDecibels:0,maxDecibels:0,getByteTimeDomainData:e,getByteFrequencyData:e,getFloatTimeDomainData:e,getFloatFrequencyData:e,gain:t(),panningModel:0,setPosition:e,setOrientation:e,setVelocity:e,distanceModel:0,refDistance:0,maxDistance:0,rolloffFactor:0,coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,type:0,frequency:t(),Q:t(),detune:t(),delayTime:t(),buffer:0,threshold:t(),knee:t(),ratio:t(),attack:t(),release:t(),reduction:t(),oversample:0,curve:0,sampleRate:1,length:0,duration:0,numberOfChannels:0,getChannelData:function(){return[]},copyFromChannel:e,copyToChannel:e,dopplerFactor:0,speedOfSound:0,start:e}}var r=Date.now();return window.Uint8Array||(window.Uint8Array=window.Float32Array=Array),{isFake:!0,activeSourceCount:0,createAnalyser:n,createBuffer:n,createBufferSource:n,createMediaElementSource:n,createMediaStreamSource:n,createBiquadFilter:n,createChannelMerger:n,createChannelSplitter:n,createDynamicsCompressor:n,createConvolver:n,createDelay:n,createGain:n,createOscillator:n,createPanner:n,createScriptProcessor:n,createWaveShaper:n,decodeAudioData:e,destination:n,listener:n(),sampleRate:44100,state:"",get currentTime(){return(Date.now()-r)/1e3}}}function r(e){if("string"!=typeof e)return"";if("data:"===e.slice(0,5)){var t=e.match(/data:audio\/(ogg|mp3|opus|wav|m4a)/i);if(t&&t.length>1)return t[1].toLowerCase()}var n=(e=(e=e.split("?")[0]).slice(e.lastIndexOf("/")+1)).split(".");return 1===n.length||""===n[0]&&2===n.length?"":n.pop().toLowerCase()}function o(e){return!!(e&&window.ArrayBuffer&&e instanceof window.ArrayBuffer)}function i(e){return!!(e&&window.HTMLMediaElement&&e instanceof window.HTMLMediaElement)}function a(e){return!(!e||"string"!=typeof e||!(e.indexOf(".")>-1||"data:"===e.slice(0,5)))}function u(e){return e.src||e.url||e.data||e}function s(e,t){function n(e,t){var n=void 0;return e||0===e?(o.some((function(t){return(t===e||t.id===e)&&(n=t,!0)})),n&&t?t(n):n):n}function r(e){return n(e,(function(e){return o.splice(o.indexOf(e),1)})),s}var o=[],i=new Re(e),a=e.createGain(),u=1,s=null;return e&&(i.setSource(a),i.setDestination(t||e.destination)),s={add:function(e){return e.gain.disconnect(),e.gain.connect(a),o.push(e),e.once("destroy",r),s},find:n,remove:r,play:function(e,t){return o.forEach((function(n){return n.play(e,t)})),s},pause:function(){return o.forEach((function(e){e.playing&&e.pause()})),s},resume:function(){return o.forEach((function(e){e.paused&&e.play()})),s},stop:function(){return o.forEach((function(e){return e.stop()})),s},seek:function(e){return o.forEach((function(t){return t.seek(e)})),s},setVolume:function(e){return s.volume=e,s},mute:function(){return u=s.volume,s.volume=0,s},unMute:function(){return s.volume=u||1,s},fade:function(t,n){if(e){var r=a.gain,i=e.currentTime;r.cancelScheduledValues(i),r.setValueAtTime(r.value,i),r.linearRampToValueAtTime(t,i+n)}else o.forEach((function(e){return e.fade(t,n)}));return s},load:function(){o.forEach((function(e){return e.load()}))},unload:function(){o.forEach((function(e){return e.unload()}))},destroy:function(){for(;o.length;)o.pop().destroy()},gain:a,get effects(){return i._nodes},set effects(e){i.removeAll().add(e)},get fx(){return this.effects},set fx(e){this.effects=e},get sounds(){return o},get volume(){return a.gain.value},set volume(t){isNaN(t)||(t=Math.min(Math.max(t,0),1),e?(a.gain.cancelScheduledValues(e.currentTime),a.gain.value=t,a.gain.setValueAtTime(t,e.currentTime)):a.gain.value=t,o.forEach((function(e){e.context||(e.groupVolume=t)})))}}}function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function f(e){return"function"==typeof e}function l(e){return"object"==typeof e&&null!==e}function d(e){return void 0===e}function h(e,t){function n(){d.off(),p&&"function"==typeof p.removeEventListener&&(p.removeEventListener("load",c),p.removeEventListener("canplaythrough",c),p.removeEventListener("error",i),p.onerror=null),_&&(_.removeEventListener("progress",o),_.removeEventListener("load",s),_.removeEventListener("error",i))}function r(e){d.emit("progress",1),d.emit("loaded",e),d.emit("complete",e),n()}function o(e){e.lengthComputable&&(y=e.loaded/e.total,d.emit("progress",y))}function i(){a();var t="";_?t=_.status+" "+_.statusText:p&&p.error&&(t=ze[p.error.code]),d.listenerCount("error")&&d.emit("error",new Error("Load Error: "+t+" "+e)),n()}function a(){window.clearTimeout(g)}function u(e){h.decodeAudioData(e,(function(e){p=e,_=null,y=1,r(e)}),i)}function s(){_.status>=400?i():u(_.response)}function c(){if(a(),p){if(!p.readyState)return void i();y=1,r(p)}}function f(){a(),n(),_&&4!==_.readyState&&_.abort(),_=null}function l(){!e||t&&!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])||(h?e instanceof window.ArrayBuffer?u(e):((_=new XMLHttpRequest).open("GET",e,!0),_.responseType="arraybuffer",_.addEventListener("progress",o),_.addEventListener("load",s),_.addEventListener("error",i),_.send()):(p&&p.tagName||(p=document.createElement("audio")),v||(a(),g=window.setTimeout(c,3e3),p.addEventListener("canplaythrough",c,!1),p.addEventListener("load",c,!1)),p.addEventListener("error",i,!1),p.preload="auto",p.onerror=i,p.src=e,p.load(),v&&r(p)))}var d=new Be,h=null,p=null,v=!1,y=0,_=null,g=null,m={on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),load:function(t){e=t,l()},start:l,cancel:f,destroy:function(){f(),_=null,p=null,h=null}};return Object.defineProperties(m,{data:{get:function(){return p}},progress:{get:function(){return y}},audioContext:{set:function(e){h=e}},isTouchLocked:{set:function(e){v=e}},url:{get:function(){return e}}}),Object.freeze(m)}function p(e,t,n){function r(){return!h&&t&&((h=t.createBufferSource()).buffer=e),h}function o(){if(h){h.onended=null;try{h.disconnect(),h.stop(0)}catch(e){}h=null}c=!1,f=0,d=!1,p=0}function i(){o(),u=!0,"function"==typeof n&&n(a)}var a={},u=!1,s=!1,c=!1,f=0,l=1,d=!1,h=null,p=0;return Object.defineProperties(a,{play:{value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!d){for(e=e?t.currentTime+e:0,n&&(f=0),f&&(n=f);n>a.duration;)n%=a.duration;r(),h.onended=i,h.start(e,n),h.loop=s,h.playbackRate.value=l,p=t.currentTime-n,u=!1,c=!1,f=0,d=!0}}},pause:{value:function(){var e=t.currentTime-p;o(),f=e,d=!1,c=!0}},stop:{value:o},destroy:{value:function(){o(),e=null,t=null,n=null,h=null}},currentTime:{get:function(){if(f)return f;if(p){for(var e=t.currentTime-p;e>a.duration;)e%=a.duration;return e}return 0},set:function(e){f=e}},duration:{get:function(){return e?e.duration:0}},ended:{get:function(){return u}},loop:{get:function(){return s},set:function(e){s=!!e,h&&(h.loop=s)}},paused:{get:function(){return c}},playbackRate:{get:function(){return l},set:function(e){l=e,h&&(h.playbackRate.value=l)}},playing:{get:function(){return d}},progress:{get:function(){return a.duration?a.currentTime/a.duration:0}},sourceNode:{get:function(){return r()}}}),Object.freeze(a)}function v(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function y(e,t,n,r){function o(e){e.stop(),v||d.push(e)}function i(e){if(e!==f&&h.length){var t=h.indexOf(e);h.splice(t,1),o(e)}r()}function a(t){return new e(t,n,i)}function u(){return v||!f.playing?f:d.length>0?d.pop():(p++,a(t.tagName?t.cloneNode():t))}function s(){for(f.stop();h.length;)o(h.pop())}var c=n.createGain(),f=a(t),l={},d=[],h=[],p=0,v=!1;return Object.defineProperties(l,{play:{value:function(e,t){var n=u();c&&n.sourceNode.connect(c),n!==f&&h.push(n),n.play(e,t)}},pause:{value:function(){f.pause(),h.forEach((function(e){return e.pause()}))}},stop:{value:s},load:{value:function(e){s(),d.length=0,f.load(e)}},destroy:{value:function(){for(f.destroy();h.length;)h.pop().destroy();for(;d.length;)d.pop().destroy();c.disconnect()}},currentTime:{get:function(){return f.currentTime||0},set:function(e){f.currentTime=e,h.forEach((function(t){return t.currentTime=e}))}},duration:{get:function(){return f.duration||0}},ended:{get:function(){return f.ended&&h.every((function(e){return e.ended}))}},info:{get:function(){return{pooled:d.length,active:h.length+1,created:p+1}}},loop:{get:function(){return f.loop},set:function(e){f.loop=!!e,h.forEach((function(t){return t.loop=!!e}))}},paused:{get:function(){return f.paused}},playbackRate:{get:function(){return f.playbackRate},set:function(e){f.playbackRate=e,h.forEach((function(t){return t.playbackRate=e}))}},playing:{get:function(){return f.playing}},progress:{get:function(){return f.progress}},singlePlay:{get:function(){return v},set:function(e){v=e}},sourceNode:{get:function(){return c}},volume:{get:function(){return f.volume},set:function(e){f.hasOwnProperty("volume")&&(f.volume=e,h.forEach((function(t){return t.volume=e})))}},groupVolume:{get:function(){return f.groupVolume},set:function(e){f.hasOwnProperty("groupVolume")&&(f.groupVolume=e,h.forEach((function(t){return t.groupVolume=e})))}}}),Object.freeze(l)}function _(e,t,n){function r(){e.removeEventListener("canplaythrough",r),h&&e.play()}function o(){if(f)return e.currentTime=0,e.currentTime>0&&e.load(),void e.play();u=!0,l=!1,h=!1,"function"==typeof s&&s(a)}function i(){if(clearTimeout(c),e){e.pause();try{e.currentTime=0,e.currentTime>0&&e.load()}catch(e){}h=!1,l=!1}}var a={},u=!1,s=n,c=null,f=!1,l=!1,d=1,h=!1,p=null,v=1,y=1;return Object.defineProperties(a,{play:{value:function t(n,i){clearTimeout(c),e.volume=y*v,e.playbackRate=d,i&&(e.currentTime=i),n?c=setTimeout(t,n):e.play(),u=!1,l=!1,h=!0,e.removeEventListener("ended",o),e.addEventListener("ended",o,!1),e.readyState<1&&(e.removeEventListener("canplaythrough",r),e.addEventListener("canplaythrough",r,!1),e.play())}},pause:{value:function(){clearTimeout(c),e&&(e.pause(),h=!1,l=!0)}},stop:{value:i},load:{value:function(t){e.src=t,e.load(),u=!1,l=!1,h=!1}},destroy:{value:function(){e.removeEventListener("ended",o),e.removeEventListener("canplaythrough",r),i(),e=null,t=null,s=null,p=null}},currentTime:{get:function(){return e?e.currentTime:0},set:function(t){e&&(e.currentTime=t)}},duration:{get:function(){return e?e.duration:0}},ended:{get:function(){return u}},loop:{get:function(){return f},set:function(e){f=!!e}},paused:{get:function(){return l}},playbackRate:{get:function(){return d},set:function(t){d=t,e&&(e.playbackRate=d)}},playing:{get:function(){return h}},progress:{get:function(){return e&&e.duration?e.currentTime/e.duration:0}},sourceNode:{get:function(){return!p&&t&&(p=t.createMediaElementSource(e)),p}},volume:{get:function(){return y},set:function(t){y=t,e&&(e.volume=y*v)}},groupVolume:{get:function(){return v},set:function(t){v=t,e&&(e.volume=y*v)}}}),Object.freeze(a)}function g(e,t){function n(){return!s&&t&&(s=t.createMediaStreamSource(e),navigator.mozGetUserMedia&&(window.mozHack=s)),s}function r(){if(s){try{s.stop(0)}catch(e){}s=null}o=!0,i=!1,a=0,u=!1,c=0}var o=!1,i=!1,a=0,u=!1,s=null,c=0,f={play:function(e){e=e?t.currentTime+e:0,n(),s.start(e),c=t.currentTime-a,o=!1,u=!0,i=!1,a=0},pause:function(){var e=t.currentTime-c;r(),a=e,u=!1,i=!0},stop:r,destroy:function(){r(),t=null,s=null,e=null,window.mozHack=null},duration:0,progress:0};return Object.defineProperties(f,{currentTime:{get:function(){return a||(c?t.currentTime-c:0)},set:function(e){a=e}},ended:{get:function(){return o}},paused:{get:function(){return i}},playing:{get:function(){return u}},sourceNode:{get:function(){return n()}}}),Object.freeze(f)}function m(e,t){function n(){return!c&&t&&((c=t.createOscillator()).type=e,c.frequency.value=l),c}function r(){if(c){try{c.stop(0)}catch(e){}c=null}i=!0,a=!1,u=0,s=!1,f=0}var o,i=!1,a=!1,u=0,s=!1,c=null,f=0,l=200;return o={play:function(e){(e=e||0)&&(e=t.currentTime+e),n(),c.start(e),f=u?t.currentTime-u:t.currentTime,i=!1,s=!0,a=!1,u=0},pause:function(){var e=t.currentTime-f;r(),u=e,s=!1,a=!0},stop:r,destroy:function(){r(),t=null,c=null}},Object.defineProperties(o,{currentTime:{get:function(){return u||(f?t.currentTime-f:0)},set:function(e){u=e}},duration:{value:0},ended:{get:function(){return i}},frequency:{get:function(){return l},set:function(e){l=e,c&&(c.frequency.value=e)}},paused:{get:function(){return a}},playing:{get:function(){return s}},progress:{value:0},sourceNode:{get:function(){return n()}}}),Object.freeze(o)}function b(e,t){function n(){o.length&&(u=o.slice(0).sort((function(e,t){return t.duration-e.duration}))[0])}var r=new s(e,t),o=r.sounds,i=1,a=!1,u=void 0,c=r.add;r.add=function(e){return c(e),n(),r};var f=r.remove;return r.remove=function(e){return f(e),n(),r},Object.defineProperties(r,{currentTime:{get:function(){return u?u.currentTime:0},set:function(e){this.stop(),this.play(0,e)}},duration:{get:function(){return u?u.duration:0}},loop:{get:function(){return a},set:function(e){a=!!e,o.forEach((function(e){e.loop=a}))}},paused:{get:function(){return!!u&&u.paused}},progress:{get:function(){return u?u.progress:0}},playbackRate:{get:function(){return i},set:function(e){i=e,o.forEach((function(e){e.playbackRate=i}))}},playing:{get:function(){return!!u&&u.playing}}}),r}function k(e){return nt.find(e)}function w(e){var t=new b(Ee,nt.gain);return e&&e.forEach((function(e){return t.add(e)})),t}function x(e){var t=Ge.getSupportedFile(e.src||e.url||e.data||e),n=new We(Object.assign({},e||{},{src:t,context:Ee,destination:nt.gain}));return n.isTouchLocked=rt,e&&(n.id=e.id||e.name||"",n.loop=!!e.loop,n.volume=e.volume,n.effects=e.effects||[]),nt.add(n),n}function T(e,t){var n=x(e).prepare();return t&&t.add(n.loader),n}function S(e){var t=e.src||e.url||e.data||e,n=void 0,r=void 0;if(Ge.containsURL(t))n=T(e),r=n.loader;else{if(!Array.isArray(t)||!Ge.containsURL(t[0].src||t[0].url)){var o="sono.load: No audio file URLs found in config.";if(!e.onError)throw new Error(o);return e.onError("[ERROR] "+o),null}n=[],r=new h.Group,t.forEach((function(e){return n.push(T(e,r))}))}return e.onProgress&&r.on("progress",(function(t){return e.onProgress(t)})),e.onComplete&&r.once("complete",(function(){r.off("progress"),e.onComplete(n)})),r.once("error",(function(t){r.off("error"),e.onError&&e.onError(t)})),r.start(),n}function L(e){if(Ge.containsURL(e))return S(e);var t=x(e);return t.data=e.data||e,t}function O(){for(;ot.length;)ot.pop().play()}function E(e,t){return Math.floor(1200*Math.log(e/function(e){return 440*Math.pow(2,(e-69)/12)}(t))*Math.LOG2E)}function M(){for(var e=null,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0;o<n.length;o++)if(v(n[o])){e=n[o];break}return e}function A(e){var t=Math.log(vt/pt)/Math.LN2,n=Math.pow(2,t*(e-1));return vt*n}function P(e){return void 0!==e}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v(e)?e:t}function C(e,t){var n=e.x,r=e.y,o=e.z,i=t.x,a=t.y,u=t.z;e.x=r*u-o*a,e.y=o*i-n*u,e.z=n*a-r*i}function R(e){if(0===e.x&&0===e.y&&0===e.z)return e;var t=1/Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);return e.x*=t,e.y*=t,e.z*=t,e}function D(e,t){var n=bt.get(t.x,t.y,t.z);C(n,kt),C(n,t),R(n),R(t),e.setOrientation(t.x,t.y,t.z,n.x,n.y,n.z),bt.dispose(t),bt.dispose(n)}function F(e,t){e.setPosition(t.x,t.y,t.z),bt.dispose(t)}var V=e((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),G=e((function(e){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)})),j=function(e){return"object"==typeof e?null!==e:"function"==typeof e},B=function(e){if(!j(e))throw TypeError(e+" is not an object!");return e},z=function(e){try{return!!e()}catch(e){return!0}},I=!z((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),N=V.document,U=j(N)&&j(N.createElement),W=!I&&!z((function(){return 7!=Object.defineProperty(function(e){return U?N.createElement(e):{}}("div"),"a",{get:function(){return 7}}).a})),H=Object.defineProperty,Q=I?Object.defineProperty:function(e,t,n){if(B(e),t=function(e,t){if(!j(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!j(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!j(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!j(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(t,!0),B(n),W)try{return H(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},X={f:Q},Z=I?function(e,t,n){return X.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,n))}:function(e,t,n){return e[t]=n,e},K={}.hasOwnProperty,J=function(e,t){return K.call(e,t)},Y=0,$=Math.random(),ee=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++Y+$).toString(36))},te=e((function(e){var t=ee("src"),n=Function.toString,r=(""+n).split("toString");G.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,o,i){var a="function"==typeof o;a&&(J(o,"name")||Z(o,"name",n)),e[n]!==o&&(a&&(J(o,t)||Z(o,t,e[n]?""+e[n]:r.join(String(n)))),e===V?e[n]=o:i?e[n]?e[n]=o:Z(e,n,o):(delete e[n],Z(e,n,o)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[t]||n.call(this)}))})),ne=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},re=function(e,t,n){var r,o,i,a,u=e&re.F,s=e&re.G,c=e&re.S,f=e&re.P,l=e&re.B,d=s?V:c?V[t]||(V[t]={}):(V[t]||{}).prototype,h=s?G:G[t]||(G[t]={}),p=h.prototype||(h.prototype={});for(r in s&&(n=t),n)i=((o=!u&&d&&void 0!==d[r])?d:n)[r],a=l&&o?ne(i,V):f&&"function"==typeof i?ne(Function.call,i):i,d&&te(d,r,i,e&re.U),h[r]!=i&&Z(h,r,a),f&&p[r]!=i&&(p[r]=i)};V.core=G,re.F=1,re.G=2,re.S=4,re.P=8,re.B=16,re.W=32,re.U=64,re.R=128;var oe=re,ie={}.toString,ae=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==function(e){return ie.call(e).slice(8,-1)}(e)?e.split(""):Object(e)},ue=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},se=function(e){return ae(ue(e))},ce=Math.ceil,fe=Math.floor,le=function(e){return isNaN(e=+e)?0:(e>0?fe:ce)(e)},de=Math.min,he=Math.max,pe=Math.min,ve=V["__core-js_shared__"]||(V["__core-js_shared__"]={}),ye=function(e){return ve[e]||(ve[e]={})}("keys"),_e=function(e){return function(t,n,r){var o=se(t),i=function(e){return e>0?de(le(e),9007199254740991):0}(o.length),a=function(e,t){return(e=le(e))<0?he(e+t,0):pe(e,t)}(r,i);for(e;i>a;a++)if(a in o&&o[a]===n)return a||0;return-1}}(!1),ge=function(e){return ye[e]||(ye[e]=ee(e))}("IE_PROTO"),me="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),be=Object.keys||function(e){return function(e,t){var n,r=se(e),o=0,i=[];for(n in r)n!=ge&&J(r,n)&&i.push(n);for(;t.length>o;)J(r,n=t[o++])&&(~_e(i,n)||i.push(n));return i}(e,me)},ke={f:Object.getOwnPropertySymbols},we={f:{}.propertyIsEnumerable},xe=Object.assign,Te=!xe||z((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=xe({},e)[n]||Object.keys(xe({},t)).join("")!=r}))?function(e,t){for(var n=function(e){return Object(ue(e))}(e),r=arguments.length,o=1,i=ke.f,a=we.f;r>o;)for(var u,s=ae(arguments[o++]),c=i?be(s).concat(i(s)):be(s),f=c.length,l=0;f>l;)a.call(s,u=c[l++])&&(n[u]=s[u]);return n}:xe;oe(oe.S+oe.F,"Object",{assign:Te});var Se=navigator&&/(iPhone|iPad|iPod)/i.test(navigator.userAgent),Le=window.AudioContext||window.webkitAudioContext||n,Oe=new Le;Oe||(Oe=new n),Se&&44100!==Oe.sampleRate&&(t(Oe),Oe.close(),Oe=new Le),"suspended"===Oe.state&&"function"==typeof Oe.resume&&window.setTimeout((function(){return Oe.resume()}),1e3);var Ee=Oe,Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),qe=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ce=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Re=function(){function e(t){var n=this;Ae(this,e),this.context=t,this._destination=null,this._source=null,this._nodes=[],this._nodes.has=function(e){return n.has(e)},this._nodes.add=function(e){return n.add(e)},this._nodes.remove=function(e){return n.remove(e)},this._nodes.toggle=function(e,t){return n.toggle(e,t)},this._nodes.removeAll=function(){return n.removeAll()},Object.keys(e.prototype).forEach((function(t){n._nodes.hasOwnProperty(t)||"function"!=typeof e.prototype[t]||(n._nodes[t]=n[t].bind(n))}))}return e.prototype.setSource=function(e){return this._source=e,this._updateConnections(),e},e.prototype.setDestination=function(e){return this._connectToDestination(e),e},e.prototype.has=function(e){return!!e&&this._nodes.indexOf(e)>-1},e.prototype.add=function(e){if(!e)return null;if(this.has(e))return e;if(Array.isArray(e)){for(var t=void 0,n=0;n<e.length;n++)t=this.add(e[n]);return t}return this._nodes.push(e),this._updateConnections(),e},e.prototype.remove=function(e){if(!e)return null;if(!this.has(e))return e;for(var t=this._nodes.length,n=0;n<t;n++)if(e===this._nodes[n]){this._nodes.splice(n,1);break}return e.disconnect(),this._updateConnections(),e},e.prototype.toggle=function(e,t){t=!!t;var n=this.has(e);return arguments.length>1&&n===t||(n?this.remove(e):this.add(e)),this},e.prototype.removeAll=function(){for(;this._nodes.length;)this._nodes.pop().disconnect();return this._updateConnections(),this},e.prototype.destroy=function(){this.removeAll(),this.context=null,this._destination=null,this._source&&this._source.disconnect(),this._source=null},e.prototype._connect=function(e,t){e.disconnect(),e.connect(t._in||t)},e.prototype._connectToDestination=function(e){var t=this._nodes[this._nodes.length-1]||this._source;t&&this._connect(t,e),this._destination=e},e.prototype._updateConnections=function(){if(this._source){for(var e=void 0,t=void 0,n=0;n<this._nodes.length;n++)e=this._nodes[n],t=0===n?this._source:this._nodes[n-1],this._connect(t,e);this._destination&&this._connectToDestination(this._destination)}},e}(),De=[],Fe={},Ve=document.createElement("audio");Ve&&([{ext:"ogg",type:'audio/ogg; codecs="vorbis"'},{ext:"mp3",type:"audio/mpeg;"},{ext:"opus",type:'audio/ogg; codecs="opus"'},{ext:"wav",type:'audio/wav; codecs="1"'},{ext:"m4a",type:"audio/x-m4a;"},{ext:"m4a",type:"audio/aac;"}].forEach((function(e){var t=!!Ve.canPlayType(e.type);t&&-1===De.indexOf(e.ext)&&De.push(e.ext),Fe[e.ext]=t})),Ve=null);var Ge={canPlay:Fe,containsURL:function(e){if(!e||i(e))return!1;var t=u(e);return a(t)||o(t)||Array.isArray(t)&&a(t[0])},extensions:De,getFileExtension:r,getSrc:u,getSupportedFile:function(e){var t=void 0;if(Array.isArray(e))for(var n=0;n<e.length;n++){var o=r(t=e[n]);if(De.indexOf(o)>-1)break}else"object"===(void 0===e?"undefined":Me(e))&&Object.keys(e).some((function(n){var o=r(t=e[n]);return De.indexOf(o)>-1}));return t||e},isAudioBuffer:function(e){return!!(e&&window.AudioBuffer&&e instanceof window.AudioBuffer)},isArrayBuffer:o,isMediaElement:i,isMediaStream:function(e){return!!(e&&"function"==typeof e.getAudioTracks&&e.getAudioTracks().length&&window.MediaStreamTrack&&e.getAudioTracks()[0]instanceof window.MediaStreamTrack)},isOscillatorType:function(e){return!(!e||"string"!=typeof e||"sine"!==e&&"square"!==e&&"sawtooth"!==e&&"triangle"!==e)},isURL:a};s.Effects=Re;var je=c;c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},c.prototype.emit=function(e){var t,n,r,o,i,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||l(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(d(n=this._events[e]))return!1;if(f(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(l(n))for(o=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,i=0;i<r;i++)a[i].apply(this,o);return!0},c.prototype.addListener=function(e,t){var n;if(!f(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,f(t.listener)?t.listener:t),this._events[e]?l(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,l(this._events[e])&&!this._events[e].warned&&(n=d(this._maxListeners)?c.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.trace),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!f(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},c.prototype.removeListener=function(e,t){var n,r,o,i;if(!f(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,r=-1,n===t||f(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(l(n)){for(i=o;i-- >0;)if(n[i]===t||n[i].listener&&n[i].listener===t){r=i;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},c.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(f(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},c.prototype.listeners=function(e){return this._events&&this._events[e]?f(this._events[e])?[this._events[e]]:this._events[e].slice():[]},c.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(f(t))return 1;if(t)return t.length}return 0},c.listenerCount=function(e,t){return e.listenerCount(t)};var Be=function(e){function t(){return Ae(this,t),Ce(this,e.call(this))}return qe(t,e),t.prototype.off=function(e,t){return t?this.removeListener(e,t):e?this.removeAllListeners(e):this.removeAllListeners()},t}(je.EventEmitter),ze=["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"];h.Group=function(){function e(e){var t=u+e;i.emit("progress",t/s)}function t(){u++,o(),i.emit("progress",u/s),r()}function n(e){o(),i.listenerCount("error")&&i.emit("error",e),r()}function r(){if(0===a.length)return c=null,void i.emit("complete");(c=a.pop()).on("progress",e),c.once("loaded",t),c.once("error",n),c.start()}function o(){c.off("progress",e),c.off("loaded",t),c.off("error",n)}var i=new Be,a=[],u=0,s=0,c=null;return Object.freeze({on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),add:function(e){return a.push(e),s++,e},start:function(){s=a.length,r()}})};var Ie=navigator&&/Firefox/i.test(navigator.userAgent),Ne=void 0,Ue={getOfflineContext:function(e,t,n){if(Ne)return Ne;e=e||2,t=(n=n||44100)||e;var r=window.OfflineAudioContext||window.webkitOfflineAudioContext;return Ne=r?new r(e,t,n):null},cloneBuffer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;if(!Ee||Ee.isFake)return e;for(var r=e.numberOfChannels,o=Ee.createBuffer(r,n,e.sampleRate),i=0;i<r;i++)o.getChannelData(i).set(e.getChannelData(i).slice(t,t+n));return o},reverseBuffer:function(e){for(var t=e.numberOfChannels,n=0;n<t;n++)Array.prototype.reverse.call(e.getChannelData(n));return e},ramp:function(e,t,n,r,o){Ee.isFake||(e.setValueAtTime(t,Ee.currentTime),o?e.linearRampToValueAtTime(n,Ee.currentTime+r):e.exponentialRampToValueAtTime(n,Ee.currentTime+r))},getFrequency:function(e){if(Ee.isFake)return 0;var t=Ee.sampleRate/2,n=Math.log(t/40)/Math.LN2;return t*Math.pow(2,n*(e-1))},timeCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",n=Math.floor(e/60),r=Math.floor(e%3600%60);return(n<10?"0"+n:n)+t+(r<10?"0"+r:r)}},We=function(e){function t(n){Ae(this,t);var r=Ce(this,e.call(this));return r.id=n.id||null,r._context=n.context||Ee,r._destination=n.destination||r._context.destination,r._effects=new Re(r._context),r._gain=r._context.createGain(),r._config=n,r._data=null,r._fadeTimeout=null,r._isTouchLocked=!1,r._loader=null,r._loop=!1,r._offset=0,r._playbackRate=1,r._playWhenReady=null,r._source=null,r._wave=null,r._userData={},r._effects.setDestination(r._gain),r._gain.connect(r._destination),r._onEnded=r._onEnded.bind(r),r._onLoad=r._onLoad.bind(r),r._onLoadError=r._onLoadError.bind(r),r}return qe(t,e),t.prototype.prepare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this._source||!this._config.deferLoad);if(e){var n=Ge.getSrc(e),r=Ge.getSupportedFile(n)||this._config.src;this._config=Object.assign(this._config,e,{src:r})}return this._source&&this._data&&this._data.tagName?this._source.load(this._config.src):(this._loader=new h(this._config.src,t),this._loader.audioContext=this._config.asMediaElement||this._context.isFake?null:this._context,this._loader.isTouchLocked=this._isTouchLocked,this._loader.once("loaded",this._onLoad),this._loader.once("error",this._onLoadError)),this},t.prototype.load=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.stop(),this._source=null,!e||Ge.containsURL(e)?(this._loader&&this._loader.destroy(),this.prepare(e,!0),this._loader.start()):this.data=e.data||e,this},t.prototype.play=function(e,t){var n=this;return!this._source||this._isTouchLocked?(this._playWhenReady=function(){n._source&&n.play(e,t)},this._config.deferLoad&&(this._loader||this.prepare(null,!0),this._loader.start(!0)),this):(this._playWhenReady=null,this._effects.setSource(this._source.sourceNode),this._offset&&void 0===t&&(t=this._offset,this._offset=0),this._source.play(e,t),this._source.hasOwnProperty("volume")&&(this._source.volume=this._gain.gain.value),this._source.hasOwnProperty("loop")&&(this._source.loop=this._loop),this.emit("play",this),this)},t.prototype.pause=function(){return this._source&&this._source.pause(),this.emit("pause",this),this},t.prototype.stop=function(e){return this._source&&this._source.stop(e||0),this.emit("stop",this),this},t.prototype.seek=function(e){return this.currentTime=e,this},t.prototype.fade=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this._source)return this;var n=this._gain.gain;if(!this._context||this._context.isFake||Ie)this._fadePolyfill(e,t);else{var r=this._context.currentTime;n.cancelScheduledValues(r),n.setValueAtTime(n.value,r),n.linearRampToValueAtTime(e,r+t)}return this.emit("fade",this,e),this},t.prototype._fadePolyfill=function(e,t){var n=this;return window.clearTimeout(this._fadeTimeout),function e(t,r){n._fadeTimeout=window.setTimeout((function(){n.volume=n.volume+.2*(t-n.volume),Math.abs(n.volume-t)>.05?e(t,r):n.volume=t}),1e3*r)}(e,t/10),this},t.prototype.unload=function(){this._source&&this._source.destroy(),this._loader&&this._loader.destroy(),this._data=null,this._playWhenReady=null,this._source=null,this._loader=null,this._config.deferLoad=!0,this.emit("unload",this)},t.prototype.reload=function(){return this.load(null,!0)},t.prototype.destroy=function(){this._source&&this._source.destroy(),this._effects&&this._effects.destroy(),this._gain&&this._gain.disconnect(),this._loader&&(this._loader.off("loaded"),this._loader.off("error"),this._loader.destroy()),this._gain=null,this._context=null,this._destination=null,this._data=null,this._playWhenReady=null,this._source=null,this._effects=null,this._loader=null,this._config=null,this.emit("destroy",this),this.off()},t.prototype.waveform=function(e){var t=this;return this._wave||(this._wave=Ue.waveform()),this._data||this.once("ready",(function(){return t._wave(t._data,e)})),this._wave(this._data,e)},t.prototype._createSource=function(e){var t=Ge.isAudioBuffer(e);if(t||Ge.isMediaElement(e)){var n=t?p:_;this._source=new y(n,e,this._context,this._onEnded),this._source.singlePlay=!!this._config.singlePlay,this._source.playbackRate=this._playbackRate,this._source.currentTime=this._offset}else if(Ge.isMediaStream(e))this._source=new g(e,this._context);else{if(!Ge.isOscillatorType(e&&e.type||e))throw new Error("Cannot detect data type: "+e);this._source=new m(e.type||e,this._context)}this._effects.setSource(this._source.sourceNode),this.emit("ready",this),this._playWhenReady&&this._playWhenReady()},t.prototype._onEnded=function(){this.emit("ended",this)},t.prototype._onLoad=function(e){this._data=e,this.emit("loaded",this),this._createSource(e)},t.prototype._onLoadError=function(e){this.listenerCount("error")&&this.emit("error",this,e)},Pe(t,[{key:"context",get:function(){return this._context}},{key:"currentTime",get:function(){return this._source?this._source.currentTime:this._offset},set:function(e){if(this._source){var t=this._source.playing;this._source.stop(),this._source.currentTime=e,t&&this.play(0,e)}else this._offset=e}},{key:"data",get:function(){return this._data},set:function(e){e&&(this._data=e,this._createSource(e))}},{key:"duration",get:function(){return this._source?this._source.duration:0}},{key:"effects",get:function(){return this._effects._nodes},set:function(e){this._effects.removeAll().add(e)}},{key:"fx",get:function(){return this.effects},set:function(e){this.effects=e}},{key:"ended",get:function(){return!!this._source&&this._source.ended}},{key:"frequency",get:function(){return this._source?this._source.frequency:0},set:function(e){this._source&&this._source.hasOwnProperty("frequency")&&(this._source.frequency=e)}},{key:"gain",get:function(){return this._gain}},{key:"groupVolume",get:function(){return this._source.groupVolume},set:function(e){this._source&&this._source.hasOwnProperty("groupVolume")&&(this._source.groupVolume=e)}},{key:"isTouchLocked",set:function(e){this._isTouchLocked=e,this._loader&&(this._loader.isTouchLocked=e),!e&&this._playWhenReady&&this._playWhenReady()}},{key:"loader",get:function(){return this._loader}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=!!e,this._source&&this._source.hasOwnProperty("loop")&&this._source.loop!==this._loop&&(this._source.loop=this._loop)}},{key:"singlePlay",get:function(){return this._config.singlePlay},set:function(e){this._config.singlePlay=e,this._source.singlePlay=e}},{key:"config",get:function(){return this._config}},{key:"paused",get:function(){return!!this._source&&this._source.paused}},{key:"playing",get:function(){return!!this._source&&this._source.playing}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(e){this._playbackRate=e,this._source&&(this._source.playbackRate=e)}},{key:"progress",get:function(){return this._source&&this._source.progress||0}},{key:"sourceInfo",get:function(){return this._source&&this._source.info?this._source.info:{}}},{key:"sourceNode",get:function(){return this._source?this._source.sourceNode:null}},{key:"volume",get:function(){return this._gain.gain.value},set:function(e){if(v(e)){window.clearTimeout(this._fadeTimeout),e=Math.min(Math.max(e,0),1);var t=this._gain.gain,n=this._context.currentTime;t.cancelScheduledValues(n),t.value=e,Ie||t.setValueAtTime(e,n),this._source&&this._source.hasOwnProperty("volume")&&(this._source.volume=e)}}},{key:"userData",get:function(){return this._userData}}]),t}(Be);We.__source={BufferSource:p,MediaSource:_,MicrophoneSource:g,OscillatorSource:m};var He,Qe,Xe,Ze,Ke,Je,Ye,$e,et,tt,nt=new s(Ee,Ee.destination),rt=function(e,n){function r(){e&&"suspended"===e.state?e.resume().then((function(){t(e),o()})):o()}function o(){document.body.removeEventListener("touchstart",r),document.body.removeEventListener("touchend",r),n()}function i(){document.body.addEventListener("touchstart",r,!1),document.body.addEventListener("touchend",r,!1)}var a=Se;return a&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",i):i()),a}(Ee,(function(){rt=!1,nt.sounds.forEach((function(e){return e.isTouchLocked=!1}))})),ot=[],it=function(e,t){function n(){document[i]?e():t()}function r(e){(o=e)?document.addEventListener(a,n,!1):document.removeEventListener(a,n)}var o=!1,i=null,a=null;return void 0!==document.hidden?(i="hidden",a="visibilitychange"):void 0!==document.mozHidden?(i="mozHidden",a="mozvisibilitychange"):void 0!==document.msHidden?(i="msHidden",a="msvisibilitychange"):void 0!==document.webkitHidden&&(i="webkitHidden",a="webkitvisibilitychange"),void 0!==a&&r(!0),{get enabled(){return o},set enabled(e){r(e)}}}((function(){nt.sounds.forEach((function(e){e.playing&&(e.pause(),ot.push(e))}))}),O),at=(et={canPlay:Ge.canPlay,context:Ee,create:L,createGroup:w,createSound:L,destroyAll:function(){return nt.destroy(),at},destroy:function(e){return nt.find(e,(function(e){return e.destroy()})),at},effects:nt.effects,extensions:Ge.extensions,fade:function(e,t){return nt.fade(e,t),at},file:Ge,gain:nt.gain,getOfflineContext:Ue.getOfflineContext,get:k,getSound:k,group:w,hasWebAudio:!Ee.isFake,isSupported:Ge.extensions.length>0,load:S,log:function(){return function(e){var t="sono "+e.VERSION,n="Supported:"+e.isSupported+" WebAudioAPI:"+e.hasWebAudio+" TouchLocked:"+e.isTouchLocked+" State:"+(e.context&&e.context.state)+" Extensions:"+e.file.extensions;if(navigator.userAgent.indexOf("Chrome")>-1){var r=["%c ♫ "+t+" ♫ %c "+n+" ","color: #FFFFFF; background: #379F7A","color: #1F1C0D; background: #E0FBAC"];console.log.apply(console,r)}else window.console&&window.console.log.call&&console.log.call(console,t+" "+n)}(at)},mute:function(){return nt.mute(),at},pause:function(e){return nt.find(e,(function(e){return e.pause()})),at},pauseAll:function(){return nt.pause(),at},play:function(e,t,n){return nt.find(e,(function(e){return e.play(t,n)})),at},register:function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Re.prototype)[e]=t,at[e]=t,t},resumeAll:function(){return nt.resume(),at},stop:function(e){return nt.find(e,(function(e){return e.stop()})),at},stopAll:function(){return nt.stop(),at},unMute:function(){return nt.unMute(),at},utils:Ue,VERSION:"2.1.6"},(tt={})[He="effects"]=tt[He]||{},tt[He].get=function(){return nt.effects},tt[Qe="effects"]=tt[Qe]||{},tt[Qe].set=function(e){nt.effects.removeAll().add(e)},tt["fx"]=tt.fx||{},tt.fx.get=function(){return this.effects},tt["fx"]=tt.fx||{},tt.fx.set=function(e){this.effects=e},tt[Xe="isTouchLocked"]=tt[Xe]||{},tt[Xe].get=function(){return rt},tt[Ze="playInBackground"]=tt[Ze]||{},tt[Ze].get=function(){return!it.enabled},tt[Ke="playInBackground"]=tt[Ke]||{},tt[Ke].set=function(e){it.enabled=!e,e||O()},tt[Je="sounds"]=tt[Je]||{},tt[Je].get=function(){return nt.sounds.slice(0)},tt[Ye="volume"]=tt[Ye]||{},tt[Ye].get=function(){return nt.volume},tt[$e="volume"]=tt[$e]||{},tt[$e].set=function(e){nt.volume=e},et.__test={Effects:Re,Group:s,Sound:We},function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}}(et,tt),et),ut=function(){function e(t){Ae(this,e),this._node=this._in=this._out=t}return e.prototype.connect=function(e){this._node.connect(e._in||e)},e.prototype.disconnect=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._node.disconnect(t)},e.prototype.update=function(){throw new Error("update must be overridden")},Pe(e,[{key:"context",get:function(){return Ee}},{key:"numberOfInputs",get:function(){return 1}},{key:"numberOfOutputs",get:function(){return 1}},{key:"channelCount",get:function(){return 1}},{key:"channelCountMode",get:function(){return"max"}},{key:"channelInterpretation",get:function(){return"speakers"}}]),e}(),st=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.fftSize,o=void 0===r?2048:r,i=n.minDecibels,a=void 0===i?-100:i,u=n.maxDecibels,s=void 0===u?-30:u,c=n.smoothing,f=void 0===c?.9:c,l=n.useFloats,d=void 0!==l&&l;Ae(this,t);var h=Ce(this,e.call(this,at.context.createAnalyser()));return h._useFloats=!!d,h._waveform=null,h._frequencies=null,h._node.fftSize=o,h.update({minDecibels:a,maxDecibels:s,smoothing:f}),h}return qe(t,e),t.prototype.update=function(e){var t=e.minDecibels,n=e.maxDecibels,r=e.smoothing;v(r)&&(this._node.smoothingTimeConstant=r),v(t)&&(this._node.minDecibels=t),v(n)&&(this._node.maxDecibels=n)},t.prototype.getWaveform=function(){var e=this._useFloats&&this._node.getFloatTimeDomainData;return this._waveform||(this._waveform=this._createArray(e,this._node.fftSize)),e?this._node.getFloatTimeDomainData(this._waveform):this._node.getByteTimeDomainData(this._waveform),this._waveform},t.prototype.getFrequencies=function(){var e=this._useFloats&&this._node.getFloatFrequencyData;return this._frequencies||(this._frequencies=this._createArray(e,this._node.frequencyBinCount)),e?this._node.getFloatFrequencyData(this._frequencies):this._node.getByteFrequencyData(this._frequencies),this._frequencies},t.prototype.getAmplitude=function(e){this._amplitudeWorker||this._createAmplitudeAnalyser(),this._amplitudeCallback=e||this._amplitudeCallback;var t=new Float32Array(this._node.fftSize);t.set(this.getFrequencies(!0)),this._amplitudeWorker.postMessage({sum:0,length:t.byteLength,numSamples:this._node.fftSize/2,b:t.buffer},[t.buffer])},t.prototype.getPitch=function(e){this._pitchWorker||this._createPitchAnalyser(),this._pitchCallback=e||this._pitchCallback;var t=new Float32Array(this._node.fftSize);t.set(this.getWaveform(!0)),this._pitchWorker.postMessage({sampleRate:at.context.sampleRate,b:t.buffer},[t.buffer])},t.prototype._createArray=function(e,t){return e?new Float32Array(t):new Uint8Array(t)},t.prototype._createAmplitudeAnalyser=function(){var e=this,t=new Blob(["onmessage = function(e) {\n                var data = e.data;\n                var f = new Float32Array(data.b);\n                for (var i = 0; i < f.length; i++) {\n                    data.sum += f[i];\n                }\n                data.sum /= f.length;\n                postMessage(Math.max(1.0 - (data.sum / data.numSamples * -1.0), 0));\n            };"]),n=URL.createObjectURL(t);this._amplitudeWorker=new Worker(n),this._amplitudeWorker.onmessage=function(t){e._amplitudeCallback&&e._amplitudeCallback(t.data)}},t.prototype._createPitchAnalyser=function(){var e=this,t=new Blob(["onmessage = function(e) {\n                var data = e.data;\n                var sampleRate = data.sampleRate;\n                var buf = new Float32Array(data.b);\n                var SIZE = buf.length;\n                var MAX_SAMPLES = Math.floor(SIZE / 2);\n                var bestOffset = -1;\n                var bestCorrel = 0;\n                var rms = 0;\n                var foundGoodCorrelation = false;\n                var correls = new Array(MAX_SAMPLES);\n                for (var i = 0; i < SIZE; i++) {\n                    var val = buf[i];\n                    rms += val * val;\n                }\n                rms = Math.sqrt(rms / SIZE);\n                if (rms < 0.01) {\n                    postMessage(-1);\n                } else {\n                    var lastCorrelation = 1;\n                    for (var offset = 0; offset < MAX_SAMPLES; offset++) {\n                        var correl = 0;\n                        for (var i = 0; i < MAX_SAMPLES; i++) {\n                            correl += Math.abs(buf[i] - buf[i + offset]);\n                        }\n                        correl = 1 - correl / MAX_SAMPLES;\n                        correls[offset] = correl;\n                        if (correl > 0.9 && correl > lastCorrelation) {\n                            foundGoodCorrelation = true;\n                            if (correl > bestCorrel) {\n                                bestCorrel = correl;\n                                bestOffset = offset;\n                            }\n                        } else if (foundGoodCorrelation) {\n                            var shift = (correls[bestOffset + 1] - correls[bestOffset - 1]) / correls[bestOffset];\n                            postMessage(sampleRate / (bestOffset + 8 * shift));\n                        }\n                        lastCorrelation = correl;\n                    }\n                    if (bestCorrel > 0.01) {\n                        postMessage(sampleRate / bestOffset);\n                    } else {\n                        postMessage(-1);\n                    }\n                }\n            };"]),n=URL.createObjectURL(t);this._pitchWorker=new Worker(n);var r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],o={hertz:0,note:"",noteIndex:0,detuneCents:0,detune:""};this._pitchWorker.onmessage=function(t){if(e._pitchCallback){var n=t.data;if(-1!==n){var i=function(e){var t=Math.log(e/440)*Math.LOG2E*12;return Math.round(t)+69}(n),a=E(n,i);o.hertz=n,o.noteIndex=i%12,o.note=r[i%12],o.detuneCents=a,o.detune=0===a?"":a<0?"flat":"sharp"}e._pitchCallback(o)}}},Pe(t,[{key:"frequencyBinCount",get:function(){return this._node.frequencyBinCount}},{key:"maxDecibels",get:function(){return this._node.maxDecibels},set:function(e){v(e)&&(this._node.maxDecibels=e)}},{key:"minDecibels",get:function(){return this._node.minDecibels},set:function(e){v(e)&&(this._node.minDecibels=e)}},{key:"smoothing",get:function(){return this._node.smoothingTimeConstant},set:function(e){v(e)&&(this._node.smoothingTimeConstant=e)}}]),t}(ut);at.register("analyser",(function(e){return new st(e)}));var ct=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ae(this,e),this._node=t,this._nodeOut=n||t,this._enabled,this._in=this.context.createGain(),this._out=this.context.createGain(),this._wet=this.context.createGain(),this._dry=this.context.createGain(),this._in.connect(this._dry),this._wet.connect(this._out),this._dry.connect(this._out),this.enable(r)}return e.prototype.enable=function(e){e!==this._enabled&&(this._enabled=e,this._in.disconnect(),e?(this._in.connect(this._dry),this._in.connect(this._node),this._nodeOut.connect(this._wet)):(this._nodeOut.disconnect(),this._in.connect(this._out)))},e.prototype.connect=function(e){this._out.connect(e._in||e)},e.prototype.disconnect=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._out.disconnect(t)},e.prototype.setSafeParamValue=function(e,t){v(t)&&(e.value=t)},e.prototype.update=function(){throw new Error("update must be overridden")},Pe(e,[{key:"wet",get:function(){return this._wet.gain.value},set:function(e){this.setSafeParamValue(this._wet.gain,e)}},{key:"dry",get:function(){return this._dry.gain.value},set:function(e){this.setSafeParamValue(this._dry.gain,e)}},{key:"context",get:function(){return Ee}},{key:"numberOfInputs",get:function(){return 1}},{key:"numberOfOutputs",get:function(){return 1}},{key:"channelCount",get:function(){return 1}},{key:"channelCountMode",get:function(){return"max"}},{key:"channelInterpretation",get:function(){return"speakers"}}]),e}(),ft=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.attack,o=void 0===r?.003:r,i=n.knee,a=void 0===i?30:i,u=n.ratio,s=void 0===u?12:u,c=n.release,f=void 0===c?.25:c,l=n.threshold,d=void 0===l?-24:l,h=n.wet,p=void 0===h?1:h,v=n.dry,y=void 0===v?1:v;Ae(this,t);var _=Ce(this,e.call(this,at.context.createDynamicsCompressor()));return _.wet=p,_.dry=y,_.update({threshold:d,knee:a,ratio:s,attack:o,release:f}),_}return qe(t,e),t.prototype.update=function(e){this.setSafeParamValue(this._node.threshold,e.threshold),this.setSafeParamValue(this._node.knee,e.knee),this.setSafeParamValue(this._node.ratio,e.ratio),this.setSafeParamValue(this._node.attack,e.attack),this.setSafeParamValue(this._node.release,e.release)},Pe(t,[{key:"threshold",get:function(){return this._node.threshold.value},set:function(e){this.setSafeParamValue(this._node.threshold,e)}},{key:"knee",get:function(){return this._node.knee.value},set:function(e){this.setSafeParamValue(this._node.knee,e)}},{key:"ratio",get:function(){return this._node.ratio.value},set:function(e){this.setSafeParamValue(this._node.ratio,e)}},{key:"attack",get:function(){return this._node.attack.value},set:function(e){this.setSafeParamValue(this._node.attack,e)}},{key:"release",get:function(){return this._node.release.value},set:function(e){this.setSafeParamValue(this._node.release,e)}}]),t}(ct);at.register("compressor",(function(e){return new ft(e)}));var lt=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.impulse,o=n.wet,i=void 0===o?1:o,a=n.dry,u=void 0===a?1:a;Ae(this,t);var s=Ce(this,e.call(this,at.context.createConvolver(),null,!1));return s._loader=null,s.wet=i,s.dry=u,s.update({impulse:r}),s}return qe(t,e),t.prototype._load=function(e){var t=this;at.context.isFake||(this._loader&&this._loader.destroy(),this._loader=new h(e),this._loader.audioContext=at.context,this._loader.once("complete",(function(e){return t.update({impulse:e})})),this._loader.once("error",(function(e){})),this._loader.start())},t.prototype.update=function(e){var t=this,n=e.impulse;return n?Ge.isAudioBuffer(n)?(this._node.buffer=n,this.enable(!0),this):n instanceof We?(n.data?this.update({impulse:n.data}):n.once("ready",(function(e){return t.update({impulse:e.data})})),this):Ge.isArrayBuffer(n)?(this._load(n),this):(Ge.isURL(Ge.getSupportedFile(n))&&this._load(Ge.getSupportedFile(n)),this):this},Pe(t,[{key:"impulse",get:function(){return this._node.buffer},set:function(e){this.update({impulse:e})}}]),t}(ct);at.register("convolver",(function(e){return new lt(e)}));var dt=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.level,o=void 0===r?1:r,i=n.samples,a=void 0===i?22050:i,u=n.oversample,s=void 0===u?"none":u,c=n.wet,f=void 0===c?1:c,l=n.dry,d=void 0===l?0:l;Ae(this,t);var h=Ce(this,e.call(this,at.context.createWaveShaper(),null,!1));return h._node.oversample=s||"none",h._samples=a||22050,h._curve=new Float32Array(h._samples),h._level,h._enabled=!1,h.wet=f,h.dry=d,h.update({level:o}),h}return qe(t,e),t.prototype.update=function(e){var t=e.level;if(t!==this._level&&v(t)&&(this.enable(t>0),this._enabled)){for(var n=100*t,r=Math.PI/180,o=2/this._samples,i=void 0,a=0;a<this._samples;++a)i=a*o-1,this._curve[a]=(3+n)*i*20*r/(Math.PI+n*Math.abs(i));this._level=t,this._node.curve=this._curve}},Pe(t,[{key:"level",get:function(){return this._level},set:function(e){this.update({level:e})}}]),t}(ct);at.register("distortion",(function(e){return new dt(e)}));var ht=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.delay,o=void 0===r?.5:r,i=n.feedback,a=void 0===i?.5:i,u=n.wet,s=void 0===u?1:u,c=n.dry,f=void 0===c?1:c;Ae(this,t);var l=Ce(this,e.call(this,at.context.createDelay(),at.context.createGain()));return l._delay=l._node,l._feedback=l._nodeOut,l._delay.connect(l._feedback),l._feedback.connect(l._delay),l.wet=s,l.dry=f,l.update({delay:o,feedback:a}),l}return qe(t,e),t.prototype.enable=function(t){e.prototype.enable.call(this,t),this._feedback&&t&&this._feedback.connect(this._delay)},t.prototype.update=function(e){this.delay=e.delay,this.feedback=e.feedback},Pe(t,[{key:"delay",get:function(){return this._delay.delayTime.value},set:function(e){this.setSafeParamValue(this._delay.delayTime,e)}},{key:"feedback",get:function(){return this._feedback.gain.value},set:function(e){this.setSafeParamValue(this._feedback.gain,e)}}]),t}(ct);at.register("echo",(function(e){return new ht(e)}));var pt=40,vt=at.context.sampleRate/2,yt=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.type,o=void 0===r?"lowpass":r,i=n.frequency,a=void 0===i?1e3:i,u=n.detune,s=void 0===u?0:u,c=n.q,f=void 0===c?0:c,l=n.gain,d=void 0===l?1:l,h=n.peak,p=void 0===h?0:h,v=n.boost,y=void 0===v?0:v,_=n.width,g=void 0===_?100:_,m=n.sharpness,b=void 0===m?0:m,k=n.wet,w=void 0===k?1:k,x=n.dry,T=void 0===x?0:x;Ae(this,t);var S=Ce(this,e.call(this,at.context.createBiquadFilter()));return S._node.type=o,S.wet=w,S.dry=T,S.update({frequency:a,gain:d,detune:s,q:f,peak:p,boost:y,width:g,sharpness:b}),S}return qe(t,e),t.prototype.update=function(e){this.setSafeParamValue(this._node.frequency,e.frequency),this.setSafeParamValue(this._node.gain,M(e.boost,e.gain)),this.setSafeParamValue(this._node.detune,e.detune);var t=M(e.peak,e.width,e.sharpness,e.q);this.setSafeParamValue(this._node.Q,t)},t.prototype.setByPercent=function(e){var t=e.percent,n=void 0===t?.5:t;this.update({frequency:A(n)})},Pe(t,[{key:"type",get:function(){return this._node.type},set:function(e){this._node.type=e}},{key:"frequency",get:function(){return this._node.frequency.value},set:function(e){this.setSafeParamValue(this._node.frequency,e)}},{key:"q",get:function(){return this._node.Q.value},set:function(e){this.setSafeParamValue(this._node.Q,e)}},{key:"Q",get:function(){return this.q},set:function(e){this.q=e}},{key:"peak",get:function(){return this.q},set:function(e){this.q=e}},{key:"width",get:function(){return this._node.frequency.value/this._node.Q.value},set:function(e){this.q=e<=0?0:this._node.frequency.value/e}},{key:"sharpness",get:function(){return this.q},set:function(e){this.q=e}},{key:"boost",get:function(){return this._node.gain.value},set:function(e){this.setSafeParamValue(this._node.gain,e)}},{key:"gain",get:function(){return this.boost},set:function(e){this.boost=e}},{key:"detune",get:function(){return this._node.detune.value},set:function(e){this.setSafeParamValue(this._node.detune,e)}},{key:"maxFrequency",get:function(){return at.context.sampleRate/2}}]),t}(ct);at.register("lowpass",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frequency,n=e.peak,r=e.q;return new yt({type:"lowpass",frequency:t,peak:n,q:r})})),at.register("highpass",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frequency,n=e.peak,r=e.q;return new yt({type:"highpass",frequency:t,peak:n,q:r})})),at.register("lowshelf",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frequency,n=e.boost,r=e.gain;return new yt({type:"lowshelf",frequency:t,boost:n,gain:r,q:0})})),at.register("highshelf",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frequency,n=e.boost,r=e.gain;return new yt({type:"highshelf",frequency:t,boost:n,gain:r,q:0})})),at.register("peaking",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frequency,n=e.width,r=e.boost,o=e.gain,i=e.q;return new yt({type:"peaking",frequency:t,width:n,boost:r,gain:o,q:i})})),at.register("bandpass",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frequency,n=e.width,r=e.q;return new yt({type:"bandpass",frequency:t,width:n,q:r})})),at.register("notch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frequency,n=e.width,r=e.gain,o=e.q;return new yt({type:"notch",frequency:t,width:n,gain:r,q:o})})),at.register("allpass",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frequency,n=e.sharpness,r=e.q;return new yt({type:"allpass",frequency:t,sharpness:n,q:r})})),at.register("filter",(function(e){return new yt(e)}));var _t=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.delay,o=void 0===r?.005:r,i=n.feedback,a=void 0===i?.5:i,u=n.frequency,s=void 0===u?.002:u,c=n.gain,f=void 0===c?.25:c,l=n.wet,d=void 0===l?1:l,h=n.dry,p=void 0===h?1:h;Ae(this,t);var v=Ce(this,e.call(this,at.context.createDelay()));return v._delay=v._node,v._feedback=at.context.createGain(),v._lfo=at.context.createOscillator(),v._gain=at.context.createGain(),v._lfo.type="sine",v._delay.connect(v._feedback),v._feedback.connect(v._in),v._lfo.connect(v._gain),v._gain.connect(v._delay.delayTime),v._lfo.start(0),v.wet=d,v.dry=p,v.update({delay:o,feedback:a,frequency:s,gain:f}),v}return qe(t,e),t.prototype.update=function(e){this.delay=e.delay,this.frequency=e.frequency,this.gain=e.gain,this.feedback=e.feedback},Pe(t,[{key:"delay",get:function(){return this._delay.delayTime.value},set:function(e){this.setSafeParamValue(this._delay.delayTime,e)}},{key:"frequency",get:function(){return this._lfo.frequency.value},set:function(e){this.setSafeParamValue(this._lfo.frequency,e)}},{key:"gain",get:function(){return this._gain.gain.value},set:function(e){this.setSafeParamValue(this._gain.gain,e)}},{key:"feedback",get:function(){return this._feedback.gain.value},set:function(e){this.setSafeParamValue(this._feedback.gain,e)}}]),t}(ct);at.register("monoFlanger",(function(e){return new _t(e)}));var gt=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.delay,o=void 0===r?.003:r,i=n.feedback,a=void 0===i?.5:i,u=n.frequency,s=void 0===u?.5:u,c=n.gain,f=void 0===c?.005:c,l=n.wet,d=void 0===l?1:l,h=n.dry,p=void 0===h?1:h;Ae(this,t);var v=Ce(this,e.call(this,at.context.createChannelSplitter(2),at.context.createChannelMerger(2)));return v._splitter=v._node,v._merger=v._nodeOut,v._feedbackL=at.context.createGain(),v._feedbackR=at.context.createGain(),v._lfo=at.context.createOscillator(),v._lfoGainL=at.context.createGain(),v._lfoGainR=at.context.createGain(),v._delayL=at.context.createDelay(),v._delayR=at.context.createDelay(),v._lfo.type="sine",v._splitter.connect(v._delayL,0),v._splitter.connect(v._delayR,1),v._delayL.connect(v._feedbackL),v._delayR.connect(v._feedbackR),v._feedbackL.connect(v._delayR),v._feedbackR.connect(v._delayL),v._delayL.connect(v._merger,0,0),v._delayR.connect(v._merger,0,1),v._lfo.connect(v._lfoGainL),v._lfo.connect(v._lfoGainR),v._lfoGainL.connect(v._delayL.delayTime),v._lfoGainR.connect(v._delayR.delayTime),v._lfo.start(0),v.wet=d,v.dry=p,v.update({delay:o,feedback:a,frequency:s,gain:f}),v}return qe(t,e),t.prototype.update=function(e){this.delay=e.delay,this.frequency=e.frequency,this.gain=e.gain,this.feedback=e.feedback},Pe(t,[{key:"delay",get:function(){return this._delayL.delayTime.value},set:function(e){this.setSafeParamValue(this._delayL.delayTime,e),this._delayR.delayTime.value=this._delayL.delayTime.value}},{key:"frequency",get:function(){return this._lfo.frequency.value},set:function(e){this.setSafeParamValue(this._lfo.frequency,e)}},{key:"gain",get:function(){return this._lfoGainL.gain.value},set:function(e){this.setSafeParamValue(this._lfoGainL.gain,e),this._lfoGainR.gain.value=0-this._lfoGainL.gain.value}},{key:"feedback",get:function(){return this._feedbackL.gain.value},set:function(e){this.setSafeParamValue(this._feedbackL.gain,e),this._feedbackR.gain.value=this._feedbackL.gain.value}}]),t}(ct);at.register("stereoFlanger",(function(e){return new gt(e)})),at.register("flanger",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.stereo?new gt(e):new _t(e)}));var mt={panningModel:"HRTF",distanceModel:"linear",refDistance:1,maxDistance:1e3,rolloffFactor:1,coneInnerAngle:360,coneOuterAngle:0,coneOuterGain:0},bt={pool:[],get:function(e,t,n){var r=this.pool.length?this.pool.pop():{x:0,y:0,z:0};return void 0!==e&&isNaN(e)&&"x"in e&&"y"in e&&"z"in e?(r.x=q(e.x),r.y=q(e.y),r.z=q(e.z)):(r.x=q(e),r.y=q(t),r.z=q(n)),r},dispose:function(e){this.pool.push(e)}},kt=bt.get(0,1,0),wt=Math.PI/4,xt=Math.PI/2,Tt=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.panningModel,o=n.distanceModel,i=n.refDistance,a=n.maxDistance,u=n.rolloffFactor,s=n.coneInnerAngle,c=n.coneOuterAngle,f=n.coneOuterGain;Ae(this,t);var l=Ce(this,e.call(this,at.context.createPanner()));return l._node.panningModel=r||mt.panningModel,l._node.distanceModel=o||mt.distanceModel,l._node.refDistance=P(i)?i:mt.refDistance,l._node.maxDistance=P(a)?a:mt.maxDistance,l._node.rolloffFactor=P(u)?u:mt.rolloffFactor,l._node.coneInnerAngle=P(s)?s:mt.coneInnerAngle,l._node.coneOuterAngle=P(c)?c:mt.coneOuterAngle,l._node.coneOuterGain=P(f)?f:mt.coneOuterGain,l._node.setPosition(0,0,0),l._node.setOrientation(1,0,0),l.set(0),l}return qe(t,e),t.prototype.update=function(e){var t=e.x,n=e.y,r=e.z,o=bt.get(t,n,r);!v(t)||v(n)||v(r)||((t=o.x)>1&&(t=1),t<-1&&(t=-1),(r=(t*=wt)+xt)>xt&&(r=Math.PI-r),o.x=Math.sin(t),o.y=0,o.z=Math.sin(r)),F(this._node,o)},t.prototype.setPosition=function(e,t,n){F(this._node,bt.get(e,t,n))},t.prototype.setOrientation=function(e,t,n){D(this._node,bt.get(e,t,n))},t.prototype.setListenerPosition=function(e,t,n){F(at.context.listener,bt.get(e,t,n))},t.prototype.setListenerOrientation=function(e,t,n){D(at.context.listener,bt.get(e,t,n))},t.prototype.set=function(e,t,n){return this.update({x:e,y:t,z:n})},Pe(t,[{key:"defaults",get:function(){return mt},set:function(e){Object.assign(mt,e)}}]),t}(ut),St=at.register("panner",(function(e){return new Tt(e)}));Object.defineProperties(St,{defaults:{get:function(){return mt},set:function(e){return Object.assign(mt,e)}},setListenerPosition:{value:function(e,t,n){return F(at.context.listener,bt.get(e,t,n))}},setListenerOrientation:{value:function(e,t,n){return D(at.context.listener,bt.get(e,t,n))}}});var Lt=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.stages,o=void 0===r?8:r,i=n.feedback,a=void 0===i?.5:i,u=n.frequency,s=void 0===u?.5:u,c=n.gain,f=void 0===c?300:c,l=n.wet,d=void 0===l?.8:l,h=n.dry,p=void 0===h?.8:h;Ae(this,t),o=o||8;for(var v=[],y=0;y<o;y++)v.push(at.context.createBiquadFilter());var _=v[0],g=v[v.length-1],m=Ce(this,e.call(this,_,g));m._stages=o,m._feedback=at.context.createGain(),m._lfo=at.context.createOscillator(),m._lfoGain=at.context.createGain(),m._lfo.type="sine";for(var b=0;b<v.length;b++){var k=v[b];k.type="allpass",k.frequency.value=1e3*b,m._lfoGain.connect(k.frequency),b>0&&v[b-1].connect(k)}return m._lfo.connect(m._lfoGain),m._lfo.start(0),m._nodeOut.connect(m._feedback),m._feedback.connect(m._node),m.wet=d,m.dry=p,m.update({frequency:s,gain:f,feedback:a}),m}return qe(t,e),t.prototype.enable=function(t){e.prototype.enable.call(this,t),this._feedback&&this._feedback.disconnect(),t&&this._feedback&&(this._nodeOut.connect(this._feedback),this._feedback.connect(this._node))},t.prototype.update=function(e){this.frequency=e.frequency,this.gain=e.gain,this.feedback=e.feedback},Pe(t,[{key:"stages",get:function(){return this._stages}},{key:"frequency",get:function(){return this._lfo.frequency.value},set:function(e){this.setSafeParamValue(this._lfo.frequency,e)}},{key:"gain",get:function(){return this._lfoGain.gain.value},set:function(e){this.setSafeParamValue(this._lfoGain.gain,e)}},{key:"feedback",get:function(){return this._feedback.gain.value},set:function(e){this.setSafeParamValue(this._feedback.gain,e)}}]),t}(ct);at.register("phaser",(function(e){return new Lt(e)}));var Ot=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.time,o=void 0===r?1:r,i=n.decay,a=void 0===i?5:i,u=n.reverse,s=void 0!==u&&u,c=n.wet,f=void 0===c?1:c,l=n.dry,d=void 0===l?1:l;Ae(this,t);var h=Ce(this,e.call(this,at.context.createConvolver()));return h._convolver=h._node,h._length=0,h._impulseResponse=null,h._opts={},h.wet=f,h.dry=d,h.update({time:o,decay:a,reverse:s}),h}return qe(t,e),t.prototype.update=function(e){var t=e.time,n=e.decay,r=e.reverse,o=!1;t!==this._opts.time&&v(t)&&(this._opts.time=t,o=!0),n!==this._opts.decay&&v(n)&&(this._opts.decay=n,o=!0),P(r)&&r!==this._reverse&&(this._opts.reverse=r,o=!0),o&&(this._opts.buffer=t<=0?null:function(e){for(var t=e.time,n=e.decay,r=e.reverse,o=e.buffer,i=at.context.sampleRate,a=Math.floor(i*t),u=void 0,s=(u=o&&o.length===a?o:at.context.createBuffer(2,a,i)).getChannelData(0),c=u.getChannelData(1),f=void 0,l=void 0,d=0;d<a;d++)f=r?a-d:d,l=Math.pow(1-f/a,n),s[d]=(2*Math.random()-1)*l,c[d]=(2*Math.random()-1)*l;return u}(this._opts),this._convolver.buffer=this._opts.buffer)},Pe(t,[{key:"time",get:function(){return this._opts.time},set:function(e){this.update({time:e})}},{key:"decay",get:function(){return this._opts.decay},set:function(e){this.update({decay:e})}},{key:"reverse",get:function(){return this._opts.reverse},set:function(e){this.update({reverse:e})}}]),t}(ct);at.register("reverb",(function(e){return new Ot(e)})),at.register("microphone",(function(e,t,n){function r(t){e(u=t)}function o(e){t&&"PermissionDeniedError"===e.name||"PERMISSION_DENIED"===e?t():n(e.message||e)}navigator.getUserMedia=navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,n=n||function(e){};var i=!!navigator.getUserMedia,a={},u=null;return Object.assign(a,{connect:function(){return i?(navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(r).catch(o):navigator.getUserMedia({audio:!0},r,o),a):a},disconnect:function(){return u.stop?u.stop():u.getAudioTracks()[0].stop(),u=null,a},isSupported:i,get stream(){return u}})}),at.utils),at.register("recorder",(function(){function e(e,t){for(var n=new Float32Array(t),r=0,o=0;o<e.length;o++)n.set(e[o],r),r+=e[o].length;return n}function t(){s&&(s.onaudioprocess=null,l.disconnect(),s.disconnect())}var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=4096,o=[],i=[],a=0,u=0,s=null,c=!1,f=null,l=at.context.createGain(),d=at.context.createGain();d.gain.value=n?1:0;var h={_in:l,_out:d,connect:function(e){d.connect(e._in||e)},disconnect:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.disconnect(t)}};return{start:function(e){e&&(t(),s=at.context.createScriptProcessor(r,2,2),l.connect(s),s.connect(d),s.connect(at.context.destination),s.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0),r=e.inputBuffer.getChannelData(1);if(n){var a=e.outputBuffer.getChannelData(0),u=e.outputBuffer.getChannelData(1);a.set(t),u.set(r)}c&&(o.push(new Float32Array(t)),i.push(new Float32Array(r)))},o.length=0,i.length=0,a=at.context.currentTime,u=0,f=e,e.effects.add(h),c=!0)},stop:function(){return f.effects.remove(h),f=null,u=at.context.currentTime,c=!1,t(),function(){if(!o.length)return at.context.createBuffer(2,r,at.context.sampleRate);var t=o.length*r,n=at.context.createBuffer(2,t,at.context.sampleRate);return n.getChannelData(0).set(e(o,t)),n.getChannelData(1).set(e(i,t)),n}()},getDuration:function(){return c?at.context.currentTime-a:u-a},get isRecording(){return c}}}),at.utils),at.register("waveform",(function(){var e=void 0,t=void 0;return function(n,r){if(!window.Float32Array||!window.AudioBuffer)return[];var o=e===n,i=t&&t.length===r;if(o&&i)return t;if(t=new Float32Array(r),!n)return t;e=n;for(var a=Math.floor(e.length/r),u=Math.max(Math.floor(a/5),1),s=0,c=0;c<e.numberOfChannels;c++)for(var f=e.getChannelData(c),l=0;l<r;l++)for(var d=l*a,h=d+a;d<h;d+=u){var p=f[d];p<0&&(p=-p),p>t[l]&&(t[l]=p),p>s&&(s=p)}for(var v=1/s,y=0;y<t.length;y++)t[y]*=v;return t}}),at.utils);var Et=Math.PI/2,Mt=2*Math.PI;return at.register("waveformer",(function(e){function t(){c?(g.fillStyle=c,g.fillRect(d,h,y,_)):g.clearRect(d,h,y,_),g.lineWidth=f,m=null,"function"!=typeof s&&(g.strokeStyle=s,g.beginPath())}function n(e,t,n){if("function"==typeof s){var r=s(e,t,n);r!==m&&(m=r,g.stroke(),g.strokeStyle=m,g.beginPath())}}function r(e,t,n){return"function"==typeof p?p(e,t,n):e}function o(t,n){return t&&"function"==typeof t.waveform?t.waveform(n):t||(e.waveform?e.waveform:e.sound?e.sound.waveform(n):null)}function i(e){if(t(),"circular"===u){var i=o(e,360),s=Math.floor(i.length*l),c=Mt/s,p=void 0,v=void 0,m=void 0,O=void 0;for(b=0;b<s;b++){var E=r(i[b],b,s);n(b,s,E),p=b*c-Et,O=Math.cos(p),m=Math.sin(p),"fill"===a&&(k=S+T*O,w=L+T*m,g.moveTo(k,w)),k=S+(v=T+(x-T)*E)*O,w=L+v*m,"line"===a&&0===b&&g.moveTo(k,w),g.lineTo(k,w)}"line"===a&&g.closePath()}else{var M=o(e,y),A=y-f/2,P=Math.min(M.length,A),q=A/(P=Math.floor(P*l));for(b=0;b<P;b++){var C=r(M[b],b,P);n(b,P,C),"line"===a&&b>0&&g.lineTo(k,w),k=d+b*q,w=h+_-Math.round(_*C),w=Math.floor(Math.min(w,h+_-f/2)),"fill"===a?(k=Math.ceil(k+f/2),g.moveTo(k,w),g.lineTo(k,h+_)):g.lineTo(k,w)}}g.stroke()}var a=e.style||"fill",u=e.shape||"linear",s=e.color||0,c=e.bgColor,f=e.lineWidth||1,l=e.percent||1,d=e.x||0,h=e.y||0,p=e.transform,v=e.canvas,y=e.width||v&&v.width,_=e.height||v&&v.height,g=null,m=void 0,b=void 0,k=void 0,w=void 0,x=void 0,T=void 0,S=void 0,L=void 0;return v||e.context||(v=document.createElement("canvas"),y=y||v.width,_=_||v.height,v.width=y,v.height=_),"circular"===u&&(x=e.radius||Math.min(_/2,y/2),T=e.innerRadius||x/2,S=d+y/2,L=h+_/2),g=e.context||v.getContext("2d"),i.canvas=v,(e.waveform||e.sound)&&i(),i}),at.utils),at}()}}]);